<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="stylesheet/style.css" />
		<link rel="stylesheet" href="stylesheet/fonts.css" />
		<link rel="stylesheet" href="stylesheet/main.css" />
		<title>Home</title>
	</head>
	<body>
		<main>
			<!-- Heading -->
			<div class="heading">
				<div style="text-align: left">
					<!-- <span
						style="font-size: 20px; cursor: pointer; align-items: end"
						onclick="openNav()"
						>&#9776;</span
					> -->
					<span style="padding: 0.2em; margin-left: 35%"> Civil Planner </span>
				</div>
			</div>

			<!-- Welcome Screen -->
			<div class="welcome">
				<img id="hiimg" src="images/8259.jpg" />
			</div>

			<!-- Add Project Button -->
			<button
				id="addProjectButton"
				style="
					margin: 1em;
					padding: 1em;
					border-radius: 20px;
					font-weight: 400;
					color: #892be2;
					border: none;
					background: transparent;
				"
			>
				+ Add Project
			</button>

			<button
				id="deleteProjectButton"
				style="
					margin: 1em;
					padding: 1em;
					font-weight: 400;
					color: #892be2;
					background: transparent;
					border-radius: 20px;
					border: none;
				"
			>
				- Delete Project
			</button>

			<!-- Popup Form -->
			<div id="addProjectPopupForm" class="popup-form">
				<div class="overlay" onclick="hideAddPopup()"></div>
				<div class="form-container">
					<form id="projectForm" class="project-form">
						<label for="projectName" class="form-label">Project Name:</label>
						<input type="text" id="projectName" class="form-input" required />
						<div class="form-buttons">
							<button class="form-button create-button" type="submit">
								Create
							</button>
							<button
								class="form-button cancel-button"
								type="button"
								onclick="hideAddPopup()"
							>
								Cancel
							</button>
						</div>
					</form>
				</div>
			</div>

			<!-- Popup Form -->
			<div id="deletePopupForm" class="popup-form">
				<div class="overlay" onclick="hideDeletePopup()"></div>
				<div class="form-container">
					<form id="deleteForm" class="delete-form">
						<label for="deleteProjectName" class="form-label"
							>Project Name:</label
						>
						<input
							type="text"
							id="deleteProjectName"
							class="form-input"
							required
						/>
						<div class="form-buttons">
							<button class="form-button delete-button" type="submit">
								Delete
							</button>
							<button
								class="form-button cancel-button"
								type="button"
								onclick="hideDeletePopup()"
							>
								Cancel
							</button>
						</div>
					</form>
				</div>
			</div>

			<div class="project-card">
				<ul id="projectList" style="list-style: none"></ul>
			</div>
		</main>

		<script>
			// Show/hide popup form
			function toggleAddPopup() {
				var popup = document.getElementById("addProjectPopupForm");
				popup.style.display = popup.style.display === "none" ? "block" : "none";
			}

			function toggleDeletePopup() {
				var popup = document.getElementById("deletePopupForm");
				popup.style.display = popup.style.display === "none" ? "block" : "none";
			}

			// Hide popup form
			function hideAddPopup() {
				var popup = document.getElementById("addProjectPopupForm");
				popup.style.display = "none";
			}

			function hideDeletePopup() {
				var popup = document.getElementById("deletePopupForm");
				popup.style.display = "none";
			}

			function deletePopupForm() {
				var popup = document.getElementById("deletePopupForm");
				popup.style.display = "none";
			}

			// Add event listener to Add Project button
			var addProjectButton = document.getElementById("addProjectButton");
			addProjectButton.addEventListener("click", toggleAddPopup);

			var deleteProjectButton = document.getElementById("deleteProjectButton");
			deleteProjectButton.addEventListener("click", toggleDeletePopup);

			// Add event listener to form submit
			var projectForm = document.getElementById("projectForm");
			projectForm.addEventListener("submit", function (event) {
				event.preventDefault(); // Prevent form from submitting
				var projectName = document.getElementById("projectName").value;
				console.log("Project name: " + projectName);
				hideAddPopup();
			});

			var deleteForm = document.getElementById("deleteForm");
			deleteForm.addEventListener("submit", function (event) {
				event.preventDefault(); // Prevent form from submitting
				var projectName = document.getElementById("projectName").value;
				console.log("Project name: " + projectName);
				hideDeletePopup();
			});
		</script>

		<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
		<script src="scripts/connect.js"></script>
		<script src="scripts/create-project.js"></script>
		<script src="scripts/sidenav.js"></script>
	</body>
</html>
